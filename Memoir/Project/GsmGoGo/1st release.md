# 1st release

## GSM GOGO란?

GSM애서 진행하는 체육 대회를 기념하여 팀 신청, 베팅, 룰렛, 게임 등 체육대회와 관련된 일을 처리 할 수 있는 프로젝트이다.

## 1차 릴리즈의 목표

로그인, 회원가입, 메인 페이지, 팀 등록, 조회 등 사용자가 가입하고 로그인 하여 팀을 생성하고 조회할 수 있는 기능을 퍼블리싱하고 로직을 만드는 일 까지를 1차 릴리즈의 목표로 잡았다.

## 내가 맡은 파트

> - GSM GOGO의 40% 정도의 페이지를 퍼블리싱 진행
> - 로그인 로직 제작, Gauth(Oauth)연결
> - 회원가입 로직 제작 (번호 등록)
> - 카테고리 변경 로직 수정
> - 모달 퍼블리싱 후 로직 제작
> - 조회 페이지에 params를 부여해 url 편의성 개선
> - 30% 정도의 페이지 반응형 적용
> - Font 적용
> - 파일 구조 개선 후 가식화 50% 개선
> - 포메이션 조회 모바일 화면 적용

위와 같은 파트를 맞았다. 이 파트들중 기억에 남는 파트들을 뽑자면 `로그인 로직 제작 / Gauth(Oauth)연결`, `포메이션 조회 모바일 화면 적용`

### 로그인 로직 제작, Gauth(Oauth)연결

> Gauth란 GSM의 통합 로그인 서비스이다.

사실 처음에 로그인 로직을 맞았을 때 그냥 전에 jwt로 oauth를 사용하지 않았던 것 처럼 그냥 간단하게 만들면 되는거 아닌가? 라는 생각을 매우 많이 했었다. 하지만 Oauth는 내가 생각했던 것 보다 많이 달랐다. 물론 구글의 Oauth처럼 자료가 많은게 아니다 보니 더욱 그렇게 느낀 것 같긴하다.. 그렇다 보니 https://gauth.co.kr/instruction 공식 문서를 매우 많이 참고하였다.
이렇게 열심히 로그인 로직을 만든 후 예상치 못한 문제가 발생 하였다.

#### 트러블 슈팅

> 로그인을 진행 후 5분 뒤 `accessToken`이 만료되면 자동으로 서버에서 403이 날라오는데 이 과정에서 서버 통신이 2개 이상이 이루어 지면 `refreshToken`을 사용해 토큰이 재발급 된 상태로 로그인 화면으로 이동되는 문제가 있었다. 그렇기에 사용자는 5분마다 재로그인이나 직접 url을 검색하여 다시 메인 페이지로 들어가야 한다는 문제가 생겼다.

자세한 해결 방법은 아래의 글을 참고하면 될 것 같다.

[refreshToken 트러블 슈팅](./refreshTokenReUsedError.md)

### 포메이션 조회 모바일 화면 적용

![](https://velog.velcdn.com/images/ethen1264/post/51aa447c-13ec-4e21-81c7-781b1ba87914/image.png)

포메이션은 원래 `react-draggable`을 이용하여 Drag&Drop을 구현되어 있었다. 하지만 우리가 처음 `react-draggable`을 적용할 땐 화면의 반응형에 따라 사람의 아이콘의 좌표도 같이 반영되어 비율에 맞게 움직일 줄 알았다.

#### 트러블 슈팅

우리의 생각과 달리 `react-draggable`은 작동되지 않았다. 화면이 작아지면 아이콘들의 위치는 그대로 유지된 상태로 맵만 줄어들어 아이콘들이 맵 밖으로 빠져나가는 문제가 있었다. 이러한 문제를 해결하기 위해서 아래와 같은 생각을 진행 하였다.

- 화면의 크기가 줄어든 만큼 실시간으로 아이콘의 좌표의 위치를 바꿔주기
- 처음 렌더링 될 때 viewport의 사이즈를 검사해 특정 사이즈보다 작다면 맵의 크기를 줄이고 아이콘의 위치도 이동시켜 맵 안에서 렌더링 시키기

우선 1번째 방법을 여러번 시도해본 결과 문제가 해결되지 않았다. 그렇기에 2번의 해결 방법을 사용하여 문제를 해결하였다.

### 이외의 트러블슈팅

- font import error
- client 배포시 type 문제로 빌드가 되지 않는 문제
- 로그인 되지 않은 사용자가 페이지에 들어갔을 때 메인 페이지가 3초간 보이다가 로그인 화면으로 리다이렉트 되는 문제

## 1차 느낀점

개발 기간이 12일일 정도로 개발 기간이 짧았던 만큼 정말 바쁘고 열심히 했던 프로젝트가 아닐까 싶다. (학교 끝나고 주말에 24시간 개발을 할 정도로...) 물론 이렇게 열심히 프로젝트를 했던 만큼 굉장히 많은 것을 배울 수 있었다. 또 평소 같이 개발하지 않았던 애들과 프로젝트를 하면서 손발을 맞출 수 있어서 매우 좋았다.

### 배운점

- 폴더 구조의 중요성
- 프로젝트 초기 설정의 중요성
- 컴포넌트 재활용의 중요성
- 파트 분배의 중요성
- 타입 지정의 중요성
